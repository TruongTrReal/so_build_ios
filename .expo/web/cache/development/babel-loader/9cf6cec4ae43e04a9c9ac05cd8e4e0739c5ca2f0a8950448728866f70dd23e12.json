{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport IndexList from \"./IndexList\";\nimport FinancialSummary from \"./FinancialSummary\";\nimport MenuBar from \"./MenuBar\";\nimport PortfolioComponent from \"./PortfolioComponent\";\nimport PortfolioSummary from \"./PortfolioSummary\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  height = _Dimensions$get.height,\n  width = _Dimensions$get.width;\nvar top_comps_height = 450;\nvar AppBody = function AppBody() {\n  var _useState = useState(Dimensions.get('window').height),\n    _useState2 = _slicedToArray(_useState, 2),\n    deviceHeight = _useState2[0],\n    setDeviceHeight = _useState2[1];\n  var pan = useRef(new Animated.ValueXY()).current;\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isDraggingDown = _useState4[0],\n    setIsDraggingDown = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSrollable = _useState6[0],\n    setScrollable = _useState6[1];\n  var panResponder = PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder(event, gestureState) {\n      var locationY = event.nativeEvent.target;\n      if (locationY > 3000) {\n        top_comps_height = 4500;\n      }\n      var isTouchWithinHeader = locationY <= top_comps_height;\n      var isTouchWithinScrollView = locationY > top_comps_height;\n      console.log(locationY);\n      console.log(isTouchWithinHeader ? 'Touched Text or PortfolioSummary' : isTouchWithinScrollView ? 'Touched ScrollView' : 'Touched Content');\n      return isTouchWithinHeader;\n    },\n    onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder(event, gestureState) {\n      var locationY = event.nativeEvent.target;\n      if (locationY > 3000) {\n        top_comps_height = 4500;\n      }\n      var isTouchWithinHeader = locationY <= top_comps_height;\n      var isTouchWithinScrollView = locationY > top_comps_height;\n      console.log(isTouchWithinHeader ? 'Dragging Text or PortfolioSummary' : isTouchWithinScrollView ? 'Dragging ScrollView' : 'Dragging Content');\n      return isTouchWithinHeader;\n    },\n    onPanResponderMove: function onPanResponderMove(_, gestureState) {\n      var velocityFactor = 0.2;\n      var newY = pan.y._value + gestureState.dy * velocityFactor;\n      if (newY >= 0) {\n        setScrollable(false);\n        if (newY === 0) {\n          setIsDraggingDown(false);\n        } else {\n          setIsDraggingDown(true);\n        }\n        pan.setValue({\n          x: 0,\n          y: newY\n        });\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease() {\n      setScrollable(true);\n      if (isDraggingDown) {\n        Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          duration: 350,\n          useNativeDriver: false\n        }).start(function () {\n          setIsDraggingDown(false);\n        });\n      } else {\n        Animated.timing(pan, {\n          toValue: {\n            x: 0,\n            y: -(height * 0.45 + 15)\n          },\n          duration: 350,\n          useNativeDriver: false\n        }).start(function () {\n          setIsDraggingDown(true);\n        });\n      }\n    }\n  });\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.fixedComponents,\n      children: [_jsx(IndexList, {}), _jsx(FinancialSummary, {}), _jsx(MenuBar, {}), _jsx(View, {\n        style: styles.placeHolder\n      })]\n    }), _jsxs(Animated.View, _objectSpread(_objectSpread({}, panResponder.panHandlers), {}, {\n      style: [styles.draggable, {\n        transform: pan.getTranslateTransform()\n      }],\n      children: [_jsx(Image, {\n        source: require(\"../assets/place_holder_2.jpg\"),\n        style: styles.placeHolder2,\n        resizeMode: \"contain\"\n      }), _jsxs(ScrollView, {\n        style: styles.draggableContent,\n        scrollEnabled: isDraggingDown,\n        children: [_jsx(PortfolioSummary, {}), _jsx(PortfolioComponent, {})]\n      })]\n    }))]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'transparent',\n    zIndex: 10,\n    height: height * 0.72\n  },\n  fixedComponents: {},\n  placeHolder: {\n    height: height * 0.015,\n    backgroundColor: '#f4f5f9'\n  },\n  placeHolder2: {\n    height: height * 0.1,\n    width: width,\n    borderTopColor: 'transparent',\n    borderTopWidth: 8\n  },\n  draggable: {\n    width: '100%'\n  },\n  draggableContent: {\n    backgroundColor: '#fff',\n    width: '100%'\n  },\n  portfolioHeader: {\n    marginBottom: 15\n  },\n  headerText: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  }\n});\nexport default AppBody;","map":{"version":3,"names":["React","useRef","useState","StyleSheet","View","Animated","PanResponder","Dimensions","ScrollView","Text","Image","IndexList","FinancialSummary","MenuBar","PortfolioComponent","PortfolioSummary","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","height","width","top_comps_height","AppBody","_useState","_useState2","_slicedToArray","deviceHeight","setDeviceHeight","pan","ValueXY","current","_useState3","_useState4","isDraggingDown","setIsDraggingDown","_useState5","_useState6","isSrollable","setScrollable","panResponder","create","onStartShouldSetPanResponder","event","gestureState","locationY","nativeEvent","target","isTouchWithinHeader","isTouchWithinScrollView","console","log","onMoveShouldSetPanResponder","onPanResponderMove","_","velocityFactor","newY","y","_value","dy","setValue","x","onPanResponderRelease","timing","toValue","duration","useNativeDriver","start","style","styles","container","children","fixedComponents","placeHolder","_objectSpread","panHandlers","draggable","transform","getTranslateTransform","source","require","placeHolder2","resizeMode","draggableContent","scrollEnabled","backgroundColor","zIndex","borderTopColor","borderTopWidth","portfolioHeader","marginBottom","headerText","fontSize","fontWeight","textAlign"],"sources":["C:/Users/truon/OneDrive/Projects/so_rebuild/so/components/AppBody.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { StyleSheet, View, Animated, PanResponder, Dimensions, ScrollView, Text, Image } from 'react-native';\r\nimport IndexList from './IndexList';\r\nimport FinancialSummary from './FinancialSummary';\r\nimport MenuBar from './MenuBar';\r\nimport PortfolioComponent from './PortfolioComponent';\r\nimport PortfolioSummary from './PortfolioSummary';\r\n\r\nconst { height,width } = Dimensions.get('window');\r\n\r\nlet top_comps_height = 450; // Adjust based on your design\r\n\r\nconst AppBody = () => {\r\n  const [deviceHeight, setDeviceHeight] = useState(Dimensions.get('window').height);\r\n  // const \r\n  const pan = useRef(new Animated.ValueXY()).current;\r\n  const [isDraggingDown, setIsDraggingDown] = useState(false);\r\n  const [isSrollable, setScrollable] = useState(true);\r\n\r\n  const panResponder = PanResponder.create({\r\n    onStartShouldSetPanResponder: (event, gestureState) => {\r\n      const locationY = event.nativeEvent.target;\r\n  \r\n      if (locationY > 3000) {\r\n        top_comps_height = 4500;\r\n      }\r\n\r\n      const isTouchWithinHeader = locationY <= top_comps_height;\r\n      const isTouchWithinScrollView = locationY > top_comps_height;\r\n  \r\n      console.log(locationY);\r\n      console.log(\r\n        isTouchWithinHeader ? 'Touched Text or PortfolioSummary' : isTouchWithinScrollView ? 'Touched ScrollView' : 'Touched Content'\r\n      );\r\n  \r\n      return isTouchWithinHeader;\r\n    },\r\n    onMoveShouldSetPanResponder: (event, gestureState) => {\r\n      const locationY = event.nativeEvent.target;\r\n\r\n      if (locationY > 3000) {\r\n        top_comps_height = 4500;\r\n      }\r\n  \r\n      const isTouchWithinHeader = locationY <= top_comps_height;\r\n      const isTouchWithinScrollView = locationY > top_comps_height;\r\n  \r\n      console.log(\r\n        isTouchWithinHeader ? 'Dragging Text or PortfolioSummary' : isTouchWithinScrollView ? 'Dragging ScrollView' : 'Dragging Content'\r\n      );\r\n  \r\n      return isTouchWithinHeader;\r\n    },\r\n    onPanResponderMove: (_, gestureState) => {\r\n      const velocityFactor = 0.2;\r\n      const newY = pan.y._value + gestureState.dy * velocityFactor;\r\n  \r\n      if (newY >= 0) {\r\n        setScrollable(false);\r\n  \r\n        if (newY === 0) {\r\n          setIsDraggingDown(false);\r\n        } else {\r\n          setIsDraggingDown(true);\r\n        }\r\n        pan.setValue({ x: 0, y: newY });\r\n      }\r\n    },\r\n    onPanResponderRelease: () => {\r\n      setScrollable(true);\r\n  \r\n      if (isDraggingDown) {\r\n        Animated.timing(pan, {\r\n          toValue: { x: 0, y: 0 },\r\n          duration: 350,\r\n          useNativeDriver: false,\r\n        }).start(() => {\r\n          setIsDraggingDown(false);\r\n        });\r\n      } else {\r\n        Animated.timing(pan, {\r\n          toValue: { x: 0, y: -(height * 0.45 + 15) },\r\n          duration: 350,\r\n          useNativeDriver: false,\r\n        }).start(() => {\r\n          setIsDraggingDown(true);\r\n        });\r\n      }\r\n    },\r\n  });\r\n  \r\n  \r\n  \r\n  \r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.fixedComponents}>\r\n\r\n        <IndexList />\r\n        <FinancialSummary />\r\n        <MenuBar />\r\n        <View style={styles.placeHolder} />\r\n\r\n        </View>\r\n      <Animated.View\r\n        {...panResponder.panHandlers}\r\n        style={[\r\n          styles.draggable,\r\n          { transform: pan.getTranslateTransform() },\r\n        ]}\r\n      >\r\n\r\n        <Image source={require('../assets/place_holder_2.jpg')} style={styles.placeHolder2} resizeMode='contain'/>\r\n\r\n        <ScrollView \r\n          style={styles.draggableContent}\r\n          scrollEnabled={isDraggingDown}\r\n        >\r\n          <PortfolioSummary />\r\n          <PortfolioComponent />\r\n        </ScrollView>\r\n\r\n      </Animated.View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: 'transparent',\r\n    zIndex: 10,\r\n    height: height*0.72,\r\n\r\n  },\r\n  fixedComponents: {\r\n    // Define styles for <IndexList />, <FinancialSummary />, and <MenuBar />\r\n    // This will keep them fixed in their positions\r\n    // backgroundColor: 'lightblue',\r\n  },\r\n  placeHolder: {\r\n    height: height*0.015,\r\n    backgroundColor:'#f4f5f9',\r\n  },\r\n  placeHolder2: {\r\n    height: height*0.1,\r\n    width: width,\r\n    borderTopColor: 'transparent',\r\n    borderTopWidth: 8,\r\n  },\r\n  draggable: {\r\n    width: '100%',\r\n  },\r\n  draggableContent: {\r\n    backgroundColor: '#fff',\r\n    width: '100%',\r\n  },\r\n  portfolioHeader: {\r\n    marginBottom: 15,\r\n  },\r\n  headerText: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nexport default AppBody;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}